{%- capture content -%}
{%- if section.blocks.size > 0 -%}
	{%- for block in section.blocks -%}
		{%- assign _class 	= block.settings.title -%}
		{%- assign _content	= block.settings.content -%}

		{%- case block.type -%}
      {%- when 'content' -%}
				{%- assign _image 	= block.settings.image -%}
				{%- capture itemCss -%}
					{%- capture firstValues -%}
						{{- _content | strip_newlines -}}
						{%- unless _image == blank -%}background-image: url({{_image | img_url: 'master' }});{%- endunless -%}
					{%- endcapture -%}
					{%- render 'css-resp', classID: _class, css_values: firstValues -%}
				{%- endcapture -%}

      {%- when 'big_content' -%}{%- capture itemCss -%}{{- _content | strip_newlines  -}}{%- endcapture -%}

      {%- when 'custom_color' -%}
				{%- assign ar_color 	 	= block.settings.color_code | downcase | strip_newlines | split: ';' -%}
				{%- assign color_setting 	= '' -%}
				{%- assign hasColorSetting 	= true -%}

				{%- for i_color in ar_color -%}
					{%- assign temp 	= i_color | strip -%}
					{%- assign _color 	= temp | split: ':' | first | strip | handleize -%}
					{%- assign _cl_code = temp | split: ':' | last | strip -%}

					{%- if _color.size > 0 and _cl_code.size > 0 -%}
						{%- capture temp_color %}.customColor-{{_color}}{% if template contains 'collection' %}, .filterColor-{{_color}} a{% endif %}{background: {{_cl_code}};color: {{_cl_code}};}{% endcapture -%}
						{%- assign color_setting = color_setting | strip | append: temp_color -%}
					{%- endif -%}
				{%- endfor -%}
        {%- capture itemCss -%}{{color_setting}}{%- endcapture -%}

		{%- endcase -%}

		{%- assign _content_css = _content_css | append: itemCss -%}
	{%- endfor -%}
{%- endif -%}

{%- if hasColorSetting != true -%}
	{%- assign ar_color_eg = 'red: #FF0000;pink: #FFC0CB;black: #000000;white:#ffffff;silver:#c0c0c0;grey:#808080;gray:#808080;black:#000000;red:#ff0000;maroon:#800000;yellow:#ffff00;olive:#808000;lime:#00ff00;green:#008000;aqua:#00ffff;teal:#008080;blue:#0000ff;navy:#000080;fuchsia:#ff00ff;purple:#800080;orange:#ffa500;brown: #654321;gold: #FFD700;' -%}
	{%- assign ar_color 	 = ar_color_eg | downcase | strip_newlines | split: ';' -%}
	{%- assign color_setting = '' -%}

	{%- for i_color in ar_color -%}
		{%- assign temp 	= i_color | strip -%}
		{%- assign _color 	= temp | split: ':' | first | strip | handleize -%}
		{%- assign _cl_code = temp | split: ':' | last | strip -%}

		{%- if _color.size > 0 and _cl_code.size > 0 -%}
			{%- capture temp_color %}.customColor-{{_color}}{% if template contains 'collection' %}, .filterColor-{{_color}} a{% endif %}{background: {{_cl_code}};color: {{_cl_code}};}{% endcapture -%}
			{%- assign color_setting = color_setting | strip | append: temp_color -%}
		{%- endif -%}
	{%- endfor -%}
	{%- capture itemCss -%}{{color_setting}}{%- endcapture -%}
	{%- assign _content_css = _content_css | append: itemCss -%}
{%- endif -%}
{%- unless _content_css == blank -%}<style>{{ _content_css | strip_newlines }}</style>{%- endunless -%}
{%- endcapture -%}
{%- render 'compress', content: content -%}
{%- render 'snippet-theme', type: 'themeCSS' -%}

{% schema %}
{
  "name": {
    "en": "Theme Config"
  },
  "tag": "section",
  "settings": [
    {
      "type": "paragraph",
      "content": {
        "en": "Extended CSS Custom, Custom style"
      }
    }
  ],
  "blocks": [
    {
      "type": "content",
      "name": {
        "en": "CSS Single Selector"
      },
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": {
            "en": "Class Name"
          },
          "placeholder": {
            "en": ".yourSelector"
          }
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": {
            "en": "Image"
          }
        },
        {
          "type": "html",
          "id": "content",
          "label": {
            "en": "CSS Content"
          },
          "placeholder": {
            "en": "font-size: 15px;\ncolor: #000000;\n..."
          }
        }
      ]
    },
    {
      "type": "big_content",
      "name": {
        "en": "CSS Multi Selectors"
      },
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": {
            "en": "Block label"
          }
        },
        {
          "type": "html",
          "id": "content",
          "label": {
            "en": "CSS Content"
          },
          "placeholder": {
            "en": ".yourFirstSelector{\nfont-size: 15px;\ncolor: #000000; ...\n}\n.yourSecondSelector{\nfont-size: 15px;\ncolor: #000000; ...\n}"
          }
        }
      ]
    },
    {
      "type": "custom_color",
      "name": {
        "en": "Color Code"
      },
      "settings": [
        {
          "type": "html",
          "id": "color_code",
          "label": {
            "en": "Color Hex Code"
          },
          "default": "red: #FF0000;pink: #FFC0CB;black: #000000;white:#ffffff;silver:#c0c0c0;grey:#808080;gray:#808080;black:#000000;red:#ff0000;maroon:#800000;yellow:#ffff00;olive:#808000;lime:#00ff00;green:#008000;aqua:#00ffff;teal:#008080;blue:#0000ff;navy:#000080;fuchsia:#ff00ff;purple:#800080;orange:#ffa500;brown: #654321;gold: #FFD700;",
          "info": {
            "en": "E.g: Red: #FF0000, Black: #000000, ..."
          }
        }
      ]
    }
  ]
}
{% endschema %}